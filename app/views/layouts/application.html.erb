<!DOCTYPE html>
<html>
  <head>
    <title>RailsApp01</title>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>


    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>

    <!-- menu area ####### ####### ####### ####### ####### ####### ####### -->
    <nav id="menu"
      class="
          navbar
          navbar-expand-lg
          smoothClass
          w-100
          ">

      <!-- branding -->
      <a class="navbar-brand" href="/"><%= image_tag("rails_icon.ico", class: "img-logo align-self-center") %> <span>Ruby Application</span></a>

      <!-- button to collapse -->
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navBar"
        aria-expanded="true"
        aria-label="Toggle navigation">
        <!-- inner font awesesome icon -->
        <i class="fas fa-ellipsis-h"></i>
      </button>

      <!-- collapsible div -->
      <div id="navBar" class="collapse navbar-collapse justify-content-end">
        <!-- items -->
        <div class="navbar-nav text-right row justify-content-end align-self-end ml-auto">

          <!-- home page -->
          <%= link_to "store", root_path, class: "nav-item nav-link active" %>

          <!-- info page -->
          <%= link_to "info", simple_pages_about_path, class: "nav-item nav-link" %>

          <!-- contact page -->
          <%= link_to "contact", simple_pages_contact_path, class: "nav-item nav-link" %>


          <% if user_signed_in? %>
            <!-- user drop menu -->
            <div class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" role="button" data-toggle="dropdown">account</a>
              <div class="dropdown-menu w-25 ml-auto">
                <div class="dropdown-divider d-block d-md-none w-50 ml-auto">
                </div>
                <!-- user profile -->
                <%= link_to "<i class='far fa-user'></i>&nbsp;&nbsp;profile".html_safe, current_user, class: "dropdown-item w-100 text-left" %>

                <!-- user settings -->
                <%= link_to "<i class='fas fa-cogs'></i>&nbsp;&nbsp;settings".html_safe, edit_user_registration_path, class: "dropdown-item w-100 text-left" %>

                <!-- user orders -->
                <%= link_to "<i class='fas fa-shopping-cart'></i>&nbsp;&nbsp;cart".html_safe, orders_path, class: "dropdown-item w-100 text-left" %>

                <!-- logout -->
                <%= link_to "<i class='fas fa-sign-out-alt'></i>&nbsp;&nbsp;logout".html_safe, destroy_user_session_path, method: :delete, class: "dropdown-item w-100 text-left" %>
              </div>
            </div>
            <!-- end of user drop menu -->

          <% else %> <!-- user is not logged in -->

            <!-- create account -->
            <%= link_to "register", new_user_registration_path, class: "nav-item nav-link" %>

            <!-- login -->
            <%= link_to "login", new_user_session_path, class: "nav-item nav-link" %>

          <% end %>

        </div>
        <!-- /items -->
      </div>
      <!-- /collapsible div -->

    </nav>
    <!-- /menu area ####### ####### ####### ####### ####### ####### ####### -->


    <section class="container-fluid content">

      <!-- global flash notice -->
      <div class="row m-0 p-0 justify-content-center notice-box w-100">

        <% if alert %>
        <div class="alert alert-warning info-popout fade show">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <%= alert %>
        </div>
        <% end %>

        <% if notice %>
        <div class="alert alert-success info-popout fade show">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <%= notice.html_safe %>
        </div>
        <% end %>

        <div id="global-notice" class="alert alert-success info-popout">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          Item added to your cart.
        </div>

      </div>
      <!-- /global flash notice -->

    <%= yield %>
    </section>

    <footer>
      <div class="row">

        <!-- left col -->
        <div class="col-6 text-left">
          &copy;<%= Time.current.year %>&nbsp;<a href="https://github.com/Alphabetus" target="_blank" alt="Link to my GitHub profile">Alphabetus</a>
        </div>

        <!-- right col -->
        <div class="col-6 text-right">

          <a href="https://github.com/Alphabetus" target="_blank" alt="Link to my GitHub profile">
            <i class="fab fa-github"></i>
          </a>

          <a href="" target="_blank" alt="Link to my Facebook Page">
            <i class="fab fa-facebook"></i>
          </a>

          <a href="" target="_blank" alt="Email me">
            <i class="far fa-envelope"></i>
          </a>
        </div>

      </div>
    </footer>
  </body>
</html>
